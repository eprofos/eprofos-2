{% extends 'admin/base.html.twig' %}

{% block title %}{{ page_title }} - EPROFOS Admin{% endblock %}

{% block page_header %}
    <div class="page-header d-print-none">
        <div class="container-xl">
            <div class="row g-2 align-items-center">
                <div class="col">
                    <!-- Page pre-title -->
                    <div class="page-pretitle">
                        Administration
                    </div>
                    <h2 class="page-title">
                        {{ page_title }}
                    </h2>
                </div>
                <!-- Page title actions -->
                <div class="col-auto ms-auto d-print-none">
                    <div class="btn-list">
                        <a href="{{ path('admin_service_index') }}" class="btn btn-outline-secondary d-none d-sm-inline-block">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                <path d="M5 12l14 0"/>
                                <path d="M5 12l6 6"/>
                                <path d="M5 12l6 -6"/>
                            </svg>
                            Retour à la liste
                        </a>
                        <a href="{{ path('admin_service_index') }}" class="btn btn-outline-secondary d-sm-none btn-icon" aria-label="Retour">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                <path d="M5 12l14 0"/>
                                <path d="M5 12l6 6"/>
                                <path d="M5 12l6 -6"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block body %}
    <div class="container-xl">
        <div class="row row-deck row-cards">
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Informations du service</h3>
                    </div>
                    {{ form_start(form, {'attr': {'class': 'card-body'}}) }}
                        <div class="row">
                            <div class="col-md-12">
                                <div class="mb-3">
                                    {{ form_label(form.title, null, {'label_attr': {'class': 'form-label', 'style': 'color: white;'}}) }}
                                    {{ form_widget(form.title) }}
                                    {{ form_errors(form.title) }}
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            {{ form_label(form.description, null, {'label_attr': {'class': 'form-label', 'style': 'color: white;'}}) }}
                            {{ form_widget(form.description) }}
                            {{ form_errors(form.description) }}
                        </div>

                        <div class="mb-3">
                            {{ form_label(form.benefits, null, {'label_attr': {'class': 'form-label', 'style': 'color: white;'}}) }}
                            {{ form_widget(form.benefits) }}
                            {{ form_errors(form.benefits) }}
                            {% if form.benefits.vars.help %}
                                <div class="form-text" style="color: white;">{{ form.benefits.vars.help }}</div>
                            {% endif %}
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    {{ form_label(form.serviceCategory, null, {'label_attr': {'class': 'form-label', 'style': 'color: white;'}}) }}
                                    {{ form_widget(form.serviceCategory) }}
                                    {{ form_errors(form.serviceCategory) }}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    {{ form_label(form.icon, null, {'label_attr': {'class': 'form-label', 'style': 'color: white;'}}) }}
                                    {{ form_widget(form.icon) }}
                                    {{ form_errors(form.icon) }}
                                    {% if form.icon.vars.help %}
                                        <div class="form-text" style="color: white;">{{ form.icon.vars.help }}</div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    {{ form_label(form.image, null, {'label_attr': {'class': 'form-label', 'style': 'color: white;'}}) }}
                                    {{ form_widget(form.image) }}
                                    {{ form_errors(form.image) }}
                                    {% if form.image.vars.help %}
                                        <div class="form-text" style="color: white;">{{ form.image.vars.help }}</div>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label" style="color: white;">&nbsp;</label>
                                    <div class="form-check">
                                        {{ form_widget(form.isActive) }}
                                        {{ form_label(form.isActive, null, {'label_attr': {'class': 'form-check-label', 'style': 'color: white;'}}) }}
                                        {{ form_errors(form.isActive) }}
                                        {% if form.isActive.vars.help %}
                                            <div class="form-text" style="color: white;">{{ form.isActive.vars.help }}</div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card-footer bg-transparent mt-auto">
                            <div class="btn-list justify-content-end">
                                <a href="{{ path('admin_service_index') }}" class="btn btn-outline-secondary">
                                    Annuler
                                </a>
                                <button type="submit" class="btn btn-primary">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                        <path d="M5 12l5 5l10 -10"/>
                                    </svg>
                                    Créer le service
                                </button>
                            </div>
                        </div>
                    {{ form_end(form) }}
                </div>
            </div>

            <div class="col-lg-4">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Aide</h3>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <h4 class="card-title h5" style="color: white;">Titre du service</h4>
                            <p class="text-muted small">
                                Donnez un titre clair et descriptif à votre service. Ce titre sera affiché sur le site public.
                            </p>
                        </div>

                        <div class="mb-3">
                            <h4 class="card-title h5" style="color: white;">Description</h4>
                            <p class="text-muted small">
                                Décrivez en détail ce que propose ce service. Cette description sera visible par les visiteurs.
                            </p>
                        </div>

                        <div class="mb-3">
                            <h4 class="card-title h5" style="color: white;">Avantages</h4>
                            <p class="text-muted small">
                                Listez les avantages de ce service, un par ligne. Ils seront affichés sous forme de liste à puces.
                            </p>
                        </div>

                        <div class="mb-3">
                            <h4 class="card-title h5" style="color: white;">Icône</h4>
                            <p class="text-muted small">
                                Utilisez une classe CSS d'icône (ex: <code>fas fa-chart-line</code> pour Font Awesome).
                            </p>
                        </div>

                        <div class="mb-3">
                            <h4 class="card-title h5" style="color: white;">Image</h4>
                            <p class="text-muted small">
                                Nom du fichier image qui doit être uploadé dans le dossier <code>public/images/</code>.
                            </p>
                        </div>

                        <div class="mb-3">
                            <h4 class="card-title h5" style="color: white;">Catégorie</h4>
                            <p class="text-muted small">
                                Sélectionnez la catégorie à laquelle appartient ce service pour une meilleure organisation.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Aperçu</h3>
                    </div>
                    <div class="card-body">
                        <p class="text-muted small">
                            Une fois créé, le service sera disponible dans la liste des services et pourra être affiché sur le site public s'il est activé.
                        </p>
                        <p class="text-muted small">
                            Le slug sera automatiquement généré à partir du titre du service.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}